extends ../../layouts/default.pug
include ../../mixins/search.pug
include ../../mixins/pagination.pug
include ../../mixins/alert.pug

block main
    +alert-success(5000)
    +alert-error(5000)

    .container-fluid
        // ===== HEADER =====
        .d-flex.justify-content-between.align-items-center.mb-3
            h1.mb-0 Thùng rác danh mục sản phẩm

        // ===== FILTER & SEARCH =====
        .card.mb-3
            .card-header
                strong Tìm kiếm
            .card-body
                .row.align-items-center
                    .col-md-6
                        +search(search)

        // ===== TABLE =====
        .card
            .card-header
                strong Danh sách danh mục đã xóa
            .card-body.p-0
                table.table.table-bordered.table-hover.table-sm.mb-0
                    thead.table-light
                        tr.text-center
                            th STT
                            th Tên danh mục
                            th Vị trí
                            th Hành động
                    tbody
                        each item, index in data
                            tr.align-middle
                                td.text-center #{index + 1}
                                td #{item.title}
                                td.text-center #{item.position}
                                td.text-center
                                    button.btn.btn-success.btn-sm.me-1(
                                        button-restore
                                        data-id=item.id
                                    ) Khôi phục
                                    button.btn.btn-danger.btn-sm(
                                        button-delete-hard
                                        data-id=item.id
                                    ) Xóa vĩnh viễn

        // ===== PAGINATION =====
        .mt-3
            +pagination(objectPagination)

        // ===== FORM RESTORE =====
        form(
            action=""
            method="POST"
            id="form-restore-item"
            data-path=`${prefixAdmin}/trash/products-category/restore`
        )

        // ===== FORM DELETE HARD =====
        form(
            action=""
            method="POST"
            id="form-delete-hard-item"
            data-path=`${prefixAdmin}/trash/products-category/delete-hard`
        )

    script(src="/admin/js/trash.js")
