extends ../../layouts/default.pug
include ../../mixins/alert.pug

block main
    +alert-success(5000)
    +alert-error(5000)

    .container-fluid
        .d-flex.justify-content-between.align-items-center.mb-3
            h1.mb-0 Thêm mới tài khoản
            a.btn.btn-secondary(
                href=`${prefixAdmin}/account`
            ) Quay lại

        .card
            .card-header
                strong Thông tin tài khoản

            .card-body
                form(
                    action=`${prefixAdmin}/account/create`
                    method="POST"
                    enctype="multipart/form-data"
                )
                    // ===== HỌ TÊN =====
                    div(class="form-group mb-3")
                        label(for="fullName") Họ tên *
                        input(
                            type="text"
                            class="form-control"
                            id="fullName"
                            name="fullName"
                            required
                        )

                    // ===== EMAIL =====
                    div(class="form-group mb-3")
                        label(for="email") Email *
                        input(
                            type="email"
                            class="form-control"
                            id="email"
                            name="email"
                            required
                        )

                    // ===== MẬT KHẨU =====
                    div(class="form-group mb-3")
                        label(for="password") Mật khẩu *
                        input(
                            type="password"
                            class="form-control"
                            id="password"
                            name="password"
                            required
                        )

                    // ===== SỐ ĐIỆN THOẠI =====
                    div(class="form-group mb-3")
                        label(for="phone") Số điện thoại
                        input(
                            type="text"
                            class="form-control"
                            id="phone"
                            name="phone"
                        )

                    div(
                        class="mb-3"
                        upload-image
                    )
                        label(class="form-label" for="thumbnail") Ảnh (URL)

                        input(
                            type="file"
                            id="thumbnail"
                            name="avatar"
                            class="form-control-file"
                            accept="image/*"
                            upload-image-input
                        )

                        div(class="mt-2 d-flex align-items-center gap-2")
                            img(
                                class="image-preview"
                                src=""
                                upload-image-preview
                            )

                            button(
                                type="button"
                                class="btn btn-danger btn-sm"
                                upload-image-remove
                            ) Xóa ảnh

                    // ===== PHÂN QUYỀN =====
                    div(class="form-group mb-3")
                        label(for="role_id") Nhóm quyền *
                        select(
                            class="form-control"
                            id="role_id"
                            name="role_id"
                            required
                        )
                            option(value="") -- Chọn nhóm quyền --
                            each item in roles
                                option(value=item.id) #{item.title}

                    // ===== TRẠNG THÁI =====
                    div(class="form-group mb-4")
                        label Trạng thái

                        div(class="form-check form-check-inline")
                            input(
                                type="radio"
                                class="form-check-input"
                                id="statusActive"
                                name="status"
                                value="active"
                                checked
                            )
                            label(
                                class="form-check-label"
                                for="statusActive"
                            ) Hoạt động

                        div(class="form-check form-check-inline")
                            input(
                                type="radio"
                                class="form-check-input"
                                id="statusInactive"
                                name="status"
                                value="inactive"
                            )
                            label(
                                class="form-check-label"
                                for="statusInactive"
                            ) Dừng hoạt động

                    // ===== SUBMIT =====
                    div(class="text-right")
                        button(
                            type="submit"
                            class="btn btn-success"
                        ) Tạo mới

                        a(
                            href=`${prefixAdmin}/account`
                            class="btn btn-secondary ml-2"
                        ) Hủy
    script(src="/admin/js/script.js") 