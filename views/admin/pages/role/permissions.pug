extends ../../layouts/default.pug

block main 
    h1 #{pageTitle}

    div(
        data-records=JSON.stringify(records)
        class="d-none"
    )
    div(class="text-right")
    button(
        type="submit"
        class="btn btn-primary mb-3"
        button-submit
    ) Cập nhật

    table(
        class="table table-hover table-sm"
        table-permissions
    )
        thead
            tr
                th Tính năng
                each item in records
                    th(class="text-center") #{item.title}
        tbody
            // ===== ID ROLE =====
            tr(data-name="id")
                td
                each item in records
                    td.text-center
                        input(type="hidden" value=item.id)
            // ================== SẢN PHẨM ==================
            tr
                td(colspan=records.length + 1)
                    b Sản phẩm

            tr(data-name="products_view")
                td Xem
                each item in records
                    td.text-center
                        input(type="checkbox")

            tr(data-name="products_create")
                td Thêm mới
                each item in records
                    td.text-center
                        input(type="checkbox")

            tr(data-name="products_edit")
                td Chỉnh sửa
                each item in records
                    td.text-center
                        input(type="checkbox")

            tr(data-name="products_delete")
                td Xóa
                each item in records
                    td.text-center
                        input(type="checkbox")

            tr(data-name="products_restore")
                td Khôi phục
                each item in records
                    td.text-center
                        input(type="checkbox")

            // ================== DANH MỤC SẢN PHẨM ==================
            tr
                td(colspan=records.length + 1)
                    b Danh mục sản phẩm

            tr(data-name="products-category_view")
                td Xem
                each item in records
                    td.text-center
                        input(type="checkbox")

            tr(data-name="products-category_create")
                td Thêm mới
                each item in records
                    td.text-center
                        input(type="checkbox")

            tr(data-name="products-category_edit")
                td Chỉnh sửa
                each item in records
                    td.text-center
                        input(type="checkbox")

            tr(data-name="products-category_delete")
                td Xóa
                each item in records
                    td.text-center
                        input(type="checkbox")

            tr(data-name="products-category_restore")
                td Khôi phục
                each item in records
                    td.text-center
                        input(type="checkbox")

            // ================== TÀI KHOẢN ==================
            tr
                td(colspan=records.length + 1)
                    b Tài khoản

            tr(data-name="accounts_view")
                td Xem
                each item in records
                    td.text-center
                        input(type="checkbox")

            tr(data-name="accounts_create")
                td Thêm mới
                each item in records
                    td.text-center
                        input(type="checkbox")

            tr(data-name="accounts_edit")
                td Chỉnh sửa
                each item in records
                    td.text-center
                        input(type="checkbox")

            tr(data-name="accounts_delete")
                td Xóa
                each item in records
                    td.text-center
                        input(type="checkbox")

            // ================== NHÓM QUYỀN ==================
            tr
                td(colspan=records.length + 1)
                    b Nhóm quyền

            tr(data-name="roles_view")
                td Xem
                each item in records
                    td.text-center
                        input(type="checkbox")

            tr(data-name="roles_create")
                td Thêm mới
                each item in records
                    td.text-center
                        input(type="checkbox")

            tr(data-name="roles_edit")
                td Chỉnh sửa
                each item in records
                    td.text-center
                        input(type="checkbox")

            tr(data-name="roles_delete")
                td Xóa
                each item in records
                    td.text-center
                        input(type="checkbox")

            // ================== PHÂN QUYỀN ==================
            tr
                td(colspan=records.length + 1)
                    b Phân quyền

            tr(data-name="permissions_view")
                td Xem
                each item in records
                    td.text-center
                        input(type="checkbox")

            tr(data-name="permissions_edit")
                td Cập nhật
                each item in records
                    td.text-center
                        input(type="checkbox")

    form(
        id="form-change-permissions"
        method="POST"
        action=`${prefixAdmin}/role/permissions?_method=PATCH`
        class="d-none"
        )
        div(class="form-group")
            input(
            type="text"
            class="form-control"
            name="permissions"
            )

    script(src="/admin/js/role.js") 